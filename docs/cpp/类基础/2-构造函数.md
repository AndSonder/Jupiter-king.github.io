# 构造函数与析构函数

## 构造函数与析构函数简介

### 构造函数简介

构造函数的形式是: `class A{A(参数1, 参数2){...}};` 类中的函数 A 为构造函数。**构造函数的作用是初始化类的成员变量，构造函数的名字与类名相同，且没有返回值。** 只要创建对象，就会自动执行一个构造函数，且只执行一次。 不能用类对象来直接调用构造函数，但并不代表构造函数不可被显示调用。

### 默认构造函数

默认构造函数是不需要实参就能被调用的构造函数，换句话说没有任何参数的构造函数就是默认构造函数。

### 析构函数

析构函数用来释放或返还生命周期即将结束的类对象所占据的资源。析构函数与构造函数是相对立或互补的，构造函数获取资源，析构函数释放资源。 可以在析构函数中执行一些对象结束时需要执行的操作。 

析构函数也是类的一个成员变量，定义它的时候需要在函数名前面加上 `~` 符号，且没有返回值。 需要注意的是即使我们定义了析构函数，默认的析构函数仍然存在。因此对于拥有类对象成员的类，当该对象结束时除了会调用自定义的析构函数，还会调用类对象的默认析构函数。

#### 什么时候调用析构函数

1、当对象的生命周期结束的时候或类对象被撤销的时候

2、对于局部对象，当该对象离开它的作用域的时候会自动调用析构函数

还有很多种情况，具体可以在实际的编程中学习

## 对象初始化

### 使用构造函数初始化对象

使用构造函数来初始化对象有如下的几种方法

#### 显示调用构造函数

```cpp
class A
{
	public:
		A(){}
		A(int i, int j){};
}

A ma = A();
A mb = A(1, 2);
```

其中 ma 调用默认构造函数初始化ma的数据成员，而mb则调用带两个行参的构造函数初始化mb的数据成员。

#### 隐式调用构造函数初始化对象的方法

```cpp
class A
{
	public:
		A(int i, int j){};
}
A ma(1, 2);
```

### 一些代码例子

```cpp
#include <iostream>

using namespace std;

class C
{
	public :
		C(int i, int j){};
		~C(){ cout << "~C" << endl;};
};

class A
{
	public :
		A(){}
		A(int i){}
		A(int i, int j){};
};

class B
{
	public :
		int a;
};

void main()
{
	A mal(2); // 隐式调用构造函数
	A ma2=3; // 单形参构造函数特有的初始化对象方法
	C mc1=C(2,3); // 显示调用构造函数A(int,int)初始化对象
	
}
```







