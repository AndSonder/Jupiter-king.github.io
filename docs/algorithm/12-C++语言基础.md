# C++语言基础

:::note

C++ 教学讲义，从零入坑C++写算法,  阅读这个文档之前你需要有C语言的基础，这里会介绍算法题里面会用到的C++小技巧

:::

## 基础

### C++与C的兼容性问题

C++是完全兼容C的，你在cpp里面写C的代码完全没有任何问题；

### 头文件

与C语言一样，C++也有常用的头文件，这里我们经常使用C++的万能头文件 `#include <bits/stdc++.h>` 下面我们对比一下C++和C基础代码；

```c++
// C++基础模板
#include <bits/stdc++.h>
using namespace std;
int main()
{
		return 0;
}

// C基础代码
#include <stdio.h>

int main()
{
  	return 0;
}
```

### 输入与输出

C++的输入使用 `cin` 可以同时输入多个数，输出使用 `cout` .  与 `scanf` 不同的是，`cin` 不需要制定类型就可以直接输入；

```c++
#include <bits/stdc++.h>
using namespace std;

int main()
{
  	int a;
  	double b;
  	cin >> a >> b; // C++ 的读入
  	scanf("%d%lf", &a, &b);
  	cout << a << b; // C++ 的输出
  	printf("%d%lf", a, b); // C 的输出
}
```

如果输出的时候需要换行需要加上 `<< endl` C++在输出的时候就会在末尾添加一个换行；

#### 练习1

使用C++的输入和输出，输入两个数，在第一行中输出他们相加的结果，在第二行输出他们相乘的结果

输入样例

```
1 2
```

输出样例

```
3
2
```

代码：

```c++
#include <bits/stdc++.h>
using namespace std;

int main()
{
  int a, b;
  cin >> a >> b;
  cout << a + b << endl << a * b;
  return 0;
}
```

#### 练习2

一辆汽车每行驶 12 公里需要消耗 1 升汽油，现在告诉你该汽车的行驶速度 S（km/h）和行驶时间 T(h)，请你计算该车在行驶过程中一共消耗了多少升汽油

**输入格式**

输入共两行，第一行包含一个整数 T，表示行驶时间（h）第二行包含一个整数 S，表示行驶速度（km/h）

**输出格式**

输出行驶期间的总油耗 (直接使用cout输出即可)

**输入样例**

```
10
85
```

**输出样例**

```
70.8333
```

**代码**

```
#include <bits/stdc++.h>
using namespace std;

int main()
{
	double a, b;
	cin >> a >> b;
	cout << a * b / 12;
}
```

### printf与判断条件

在算法题里面经常会让你保留几位小数，或者保留几位数，这个时候我们就不能用 `cout` 了，用 `printf` 会更方便，下面我们来看几个例子:

```c++
double a = 1.2;
double b = 4;
int c = 3;
printf("%.2f %.3f\n", a, b); // a 保留两位小数输出， b保留3位小数输出
printf("%02d", c); // 保留两位输出c，不足的位数用0补位
```

输出

```
1.20 4.000
03
```

#### 练习1

**题目描述**

读取一个保留两位小数的浮点数值，表示一个公民的工资。在公民缴纳个人所得税时，不同收入部分需要缴税的税率也是不同的。请根据下表确定该公民需要缴纳的个人所得税是多少。

![UOJ_1051_en.png](images/c83e044309bbdc2b9071577d3b28f201.png)

**输入格式**

共一行，包含一个浮点数。

**输出格式**

如果公民需要缴税，则输出所需缴纳的税额。输出格式为 R$ X，其中 X 为个税的金额，保留两位小数。

如果公民不需要缴税，则输出 Isento。

输入样例1:

```
3002.00
```


输出样例1:

```
R$ 80.36
```

代码

```python
#include <bits/stdc++.h>

using namespace std;

int main()
{
	double a;
	cin >> a;
	if(a <= 2000) cout << "Isento";
	else if(a > 2000 and a <= 3000) printf("R$ %.2f", a * 0.08);
	else if(a > 3000 and a <= 4500) printf("%.2f", a * 0.18);
	else printf("R$ %.2f", a * 0.28);
}
```

### 数组

#### 普通数据

C++普通的数据和C语言的数组是完全一样的，下面我们通过一小段代码来回顾一下；

```c++
#include <bits/stdc++.h>

int main()
{
  int a[20]; // 创建一个长度为20的数组
  a[0] = 1; // 数组赋值
  a[1] = 2; // 数组赋值
  memset(a, 0, sizeof(a)); // 将 a 中的元素初始化为0，固定语法记住就好
  // 循环输出前10个
  for(int i = 0;i < 10;i ++)
    cout << a[i];
  int b[20][20]; // 创建一个二维数组
  b[0][1] = 1; // 二维数组赋值
  memset(b, 0, sizeof(b)); // 二维数组赋值
  
}
```

:::note

算法题中常用的数组创建方式

:::

在写算法题的时候我们为了方便经常根据题目给的数据范围来开一个比较大的数组，比如题目告诉我们最多只有100个数，那我们就开一个 `int a[110]`  就可以了。为什么要写110嘞，这是为了避免边界问题我们应该习惯性多开10个

```c++
#include <bits/stdc++.h>

const int N = 110;
int a[N]; // 开在main函数外面，这些写更不容易爆内存

int main()
{...}
```

**练习题**

[练习1： 小鱼的数字游戏](https://www.luogu.com.cn/problem/P1427)

```c++
#include <bits/stdc++.h>

using namespace std;

const int N = 101;
int a[N], idx; // 初始化

int main()
{
    // freopen("1.txt","r",stdin);
    while(1)
    {
        int n;
        cin >> n;
        if(n == 0) break;
        a[idx++] = n;
    }
    for(int i = idx - 1;i >= 0;i --) cout << a[i] << ' ';
    return 0;
}
```

[练习2：小鱼比可爱](https://www.luogu.com.cn/problem/P1428)

```
#include <bits/stdc++.h>
using namespace std;

const int N = 101;
int a[101], b[101];

int main()
{
    // freopen("1.txt","r",stdin);
    int n;
    cin >> n;
    for(int i = 0;i < n;i ++) cin >> a[i];
    for(int i = 0;i < n;i ++)
    {
        int cnt = 0;
        for(int j = 0;j < i;j ++)
            if(a[j] < a[i]) cnt++;
        cout << cnt << ' ';
    }
}
```



















